# ButtonManager UI Prefab ç³»ç»Ÿè®¾ç½®æŒ‡å—

## æ¦‚è¿°
å‡çº§åçš„ButtonManagerç°åœ¨æ”¯æŒåœ¨å¯†ç è¾“å…¥ç»“æœæ—¶ç”ŸæˆUI prefabï¼š
- **æ­£ç¡®è¾“å…¥**ï¼šç”ŸæˆrewardPrefab (å¥–åŠ±UI)
- **é”™è¯¯è¾“å…¥**ï¼šç”ŸæˆpunishPrefab (æƒ©ç½šUI)  
- **è¶…æ—¶è¿‡æœŸ**ï¼šç”ŸæˆpunishPrefab (æƒ©ç½šUI)

## ä¸»è¦åŠŸèƒ½ç‰¹æ€§
âœ… **åŒprefabæ”¯æŒ**ï¼šåˆ†åˆ«é…ç½®å¥–åŠ±å’Œæƒ©ç½šprefab  
âœ… **UI prefabä¼˜åŒ–**ï¼šå®Œå…¨æ”¯æŒCanvasåæ ‡ç³»ç»Ÿ  
âœ… **è‡ªåŠ¨Canvasæ£€æµ‹**ï¼šæ™ºèƒ½æŸ¥æ‰¾åˆé€‚çš„Canvas  
âœ… **æµ‹è¯•åŠŸèƒ½**ï¼šæŒ‰é”®å¿«é€Ÿæµ‹è¯•æ•ˆæœ  
âœ… **å‘ä¸‹å…¼å®¹**ï¼šæ”¯æŒ3D prefabï¼ˆå¯é€‰ï¼‰

## Inspectoré…ç½®

### Prefab Spawning è®¾ç½®
```
[Prefab Spawning]
â”œâ”€â”€ Reward Prefab: æ­£ç¡®æ—¶ç”Ÿæˆçš„UI prefab
â”œâ”€â”€ Punish Prefab: é”™è¯¯/è¿‡æœŸæ—¶ç”Ÿæˆçš„UI prefab  
â”œâ”€â”€ Spawner Transform: ç”Ÿæˆä½ç½®æ ‡è®°ï¼ˆå¯é€‰ï¼‰
â”œâ”€â”€ Target Canvas: ç›®æ ‡Canvasï¼ˆç•™ç©ºè‡ªåŠ¨æŸ¥æ‰¾ï¼‰
â””â”€â”€ Is UI Prefab: âœ…å‹¾é€‰ï¼ˆé»˜è®¤ï¼‰
```

### Debug/Test è®¾ç½®
```
[Debug/Test]
â”œâ”€â”€ Enable Test Key: âœ…å¯ç”¨æµ‹è¯•æŒ‰é”®
â”œâ”€â”€ Test Reward Key: Rï¼ˆæµ‹è¯•å¥–åŠ±prefabï¼‰
â””â”€â”€ Test Punish Key: Tï¼ˆæµ‹è¯•æƒ©ç½šprefabï¼‰
```

## è®¾ç½®æ­¥éª¤

### 1. åŸºç¡€é…ç½®
1. **æ‹–æ‹½rewardPrefab**ï¼šæ­£ç¡®è¾“å…¥æ—¶æ˜¾ç¤ºçš„UIï¼ˆå¦‚+100åˆ†æ•°æ˜¾ç¤ºï¼‰
2. **æ‹–æ‹½punishPrefab**ï¼šé”™è¯¯/è¿‡æœŸæ—¶æ˜¾ç¤ºçš„UIï¼ˆå¦‚-50åˆ†æ•°æ˜¾ç¤ºï¼‰
3. **ä¿æŒ`Is UI Prefab`å‹¾é€‰**ï¼ˆé»˜è®¤å·²å‹¾é€‰ï¼‰
4. **ç•™ç©º`Target Canvas`**è®©ç³»ç»Ÿè‡ªåŠ¨æŸ¥æ‰¾

### 2. ä½ç½®æ§åˆ¶ï¼ˆå¯é€‰ï¼‰
- **æœ‰Spawnerä½ç½®**ï¼šUI prefabä¼šåœ¨è½¬æ¢åçš„åæ ‡ä½ç½®ç”Ÿæˆ
- **æ— Spawnerä½ç½®**ï¼šUI prefabä¼šåœ¨Canvasä¸­å¿ƒç”Ÿæˆ

### 3. æ¨èçš„prefabç±»å‹
- **å¥–åŠ±prefab**ï¼šç»¿è‰²+100æ–‡å­—ã€æˆåŠŸåŠ¨ç”»ã€é’±å¸å›¾æ ‡ç­‰
- **æƒ©ç½šprefab**ï¼šçº¢è‰²è­¦å‘Šæ–‡å­—ã€é”™è¯¯åŠ¨ç”»ã€éª·é«…å›¾æ ‡ç­‰

## è§¦å‘æ—¶æœº

### ğŸ¯ CorrectInput() - ç”ŸæˆrewardPrefab
- ç©å®¶æ­£ç¡®è¾“å…¥3ä½å¯†ç 
- åŒæ—¶æ‰§è¡Œï¼šåŠ 100åˆ† + ç”Ÿæˆå¥–åŠ±UI
- æ’­æ”¾æˆåŠŸéŸ³æ•ˆå’ŒåŠ¨ç”»

### âŒ WrongInput() - ç”ŸæˆpunishPrefab  
- ç©å®¶è¾“å…¥é”™è¯¯æ•°å­—
- åŒæ—¶æ‰§è¡Œï¼šæƒ©ç½š + ç”Ÿæˆæƒ©ç½šUI
- æ’­æ”¾é”™è¯¯éŸ³æ•ˆå’ŒåŠ¨ç”»

### â° ExpiredInput() - ç”ŸæˆpunishPrefab
- å¯†ç è¾“å…¥è¶…æ—¶ï¼ˆé»˜è®¤5ç§’ï¼‰
- åŒæ—¶æ‰§è¡Œï¼šæƒ©ç½š + ç”Ÿæˆæƒ©ç½šUI
- æ’­æ”¾é”™è¯¯éŸ³æ•ˆå’ŒåŠ¨ç”»

## æµ‹è¯•åŠŸèƒ½

### å¿«é€Ÿæµ‹è¯•æŒ‰é”®
- **æŒ‰Ré”®**ï¼šç«‹å³ç”ŸæˆrewardPrefabï¼ˆæ¨¡æ‹Ÿæ­£ç¡®è¾“å…¥ï¼‰
- **æŒ‰Té”®**ï¼šç«‹å³ç”ŸæˆpunishPrefabï¼ˆæ¨¡æ‹Ÿé”™è¯¯/è¿‡æœŸï¼‰
- **å®æ—¶éªŒè¯**ï¼šæ— éœ€ç­‰å¾…å¯†ç äº‹ä»¶è§¦å‘

### è°ƒè¯•ä¿¡æ¯
æ§åˆ¶å°ä¼šæ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯ï¼š
```
"ButtonManager: Auto-selected Canvas: ..."
"Spawned UI prefab 'RewardPrefab' at canvas position: ..."
"Test reward key pressed! Spawning reward prefab..."
```

## å·¥ä½œæµç¨‹

```
å¯†ç äº‹ä»¶è§¦å‘
    â†“
ç©å®¶è¾“å…¥æ•°å­—
    â†“
åˆ¤æ–­ç»“æœ
    â”œâ”€â”€ æ­£ç¡® â†’ CorrectInput() â†’ åŠ åˆ† + ç”ŸæˆrewardPrefab
    â”œâ”€â”€ é”™è¯¯ â†’ WrongInput() â†’ æƒ©ç½š + ç”ŸæˆpunishPrefab
    â””â”€â”€ è¶…æ—¶ â†’ ExpiredInput() â†’ æƒ©ç½š + ç”ŸæˆpunishPrefab
```

## ä¸ProgressBarControllerçš„åŒºåˆ«

| ç‰¹æ€§ | ProgressBarController | ButtonManager |
|------|---------------------|---------------|
| **è§¦å‘æ–¹å¼** | å®šæ—¶30ç§’ | å¯†ç è¾“å…¥ç»“æœ |
| **prefabæ•°é‡** | 1ä¸ªï¼ˆå¥–åŠ±ï¼‰ | 2ä¸ªï¼ˆå¥–åŠ±+æƒ©ç½šï¼‰ |
| **è§¦å‘é¢‘ç‡** | å›ºå®šé—´éš” | äº‹ä»¶é©±åŠ¨ |
| **æµ‹è¯•æŒ‰é”®** | Fé”® | Ré”®+Té”® |

## æ¨èé…ç½®ç¤ºä¾‹

### åŸºç¡€é…ç½®
```
Reward Prefab: +100ScorePrefab
Punish Prefab: DangerWarningPrefab
Spawner Transform: ç•™ç©ºï¼ˆCanvasä¸­å¿ƒï¼‰
Target Canvas: ç•™ç©ºï¼ˆè‡ªåŠ¨æŸ¥æ‰¾ï¼‰
Is UI Prefab: âœ…å‹¾é€‰
```

### æµ‹è¯•é…ç½®
```
Enable Test Key: âœ…å‹¾é€‰
Test Reward Key: R
Test Punish Key: T
```

## å¸¸è§é—®é¢˜

### Q: prefabç”Ÿæˆä½ç½®ä¸å¯¹ï¼Ÿ
A: æ£€æŸ¥Canvasæ¸²æŸ“æ¨¡å¼ï¼Œæ¨èScreen Space - Overlay

### Q: æƒ³è¦ä¸åŒçš„ç”Ÿæˆä½ç½®ï¼Ÿ
A: è®¾ç½®ä¸åŒçš„`Spawner Transform`ï¼Œæˆ–è€…ä¿®æ”¹prefabçš„é”šç‚¹è®¾ç½®

### Q: å¦‚ä½•ç¦ç”¨æµ‹è¯•æŒ‰é”®ï¼Ÿ
A: å–æ¶ˆå‹¾é€‰`Enable Test Key`

### Q: æ”¯æŒ3D prefabå—ï¼Ÿ
A: æ”¯æŒï¼Œå–æ¶ˆå‹¾é€‰`Is UI Prefab`å³å¯

## å…¼å®¹æ€§
- âœ… æ‰€æœ‰ç°æœ‰å¯†ç è¾“å…¥é€»è¾‘
- âœ… éŸ³æ•ˆç³»ç»Ÿ
- âœ… åˆ†æ•°ç³»ç»Ÿ
- âœ… GameManager.Punish()æ–¹æ³•
- âœ… ç°æœ‰çš„Canvasè®¾ç½®

ç°åœ¨ButtonManagerå®Œå…¨æ”¯æŒUI prefabç”Ÿæˆäº†ï¼ä½¿ç”¨Rå’ŒTé”®å¯ä»¥å¿«é€Ÿæµ‹è¯•æ•ˆæœã€‚ 